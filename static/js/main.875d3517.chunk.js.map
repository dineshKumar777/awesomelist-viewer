{"version":3,"sources":["userRequest.js","components/ReadmePreview.js","components/SliderGitReadme.js","components/GitReadme4.js","App.js","reportWebVitals.js","index.js"],"names":["baseAPIUrl","fetcher","url","a","fetch","res","startsWith","console","log","ok","json","text","toLowerCase","lowerres","useRequest","path","Error","apiUrl","repo","useSWR","revalidateIfStale","revalidateOnFocus","revalidateOnReconnect","onErrorRetry","shouldRetryOnError","data","default_branch","error","ReadmePreview","React","memo","gitreponame","defaultBranchname","source","transformImageUri","uri","SliderGitReadme","GitReadme4","reponame","useState","isPaneOpen","isPaneOpenLeft","state2","setState2","hlink","setHlink","htext","setHtext","useEffect","document","querySelectorAll","forEach","httplink","href","addEventListener","e","preventDefault","currentTarget","body","style","overflow","handleClick2","setAttribute","className","overlayClassName","isOpen","title","subtitle","onRequestClose","replace","App","setReponame","isshow","setIsshow","state","setState","handleClick","textContent","onClick","src","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.875d3517.chunk.js","sourcesContent":["import useSWR from \"swr\";\n\nconst baseUrl = \"https://raw.githubusercontent.com/\";\nconst baseAPIUrl = \"https://api.github.com/repos/\";\n\nconst fetcher = async url => {\n\tconst res = await fetch(url)\n\tif (url.startsWith(baseAPIUrl)) {\n\t\tconsole.log(\"inside baseapi url\")\n\t\tif (res.ok) {\n\t\t\tconsole.log(\"baseapi url ok status\")\n\t\t\treturn await res.json();\n\t\t}\n\t}\n\n\tif (res.ok) {\n\t\tconsole.log(\"readme fetchine done\")\n\t\treturn await res.text();\n\t}\n\n\t//Github contains both README.md and readme.md\n\t//for lowercase function\n\tconst lowerres = await fetch(url.toLowerCase());\n\tif (lowerres.ok) {\n\t\treturn await lowerres.text()\n\t}\n\n\treturn await lowerres.text();\n\n\t/* if (!res.ok) {\n\t\tconst error = new Error('An error occured while fetching the data.');\n\t\t// error.info = await res.json() //causing error\n\t\terror.status = res.status\n\t\tthrow error;\n\t} */\n\t// return res.text()\n}\n\n\nexport const useRequest = (path) => {\n\tif (!path) {\n\t\tthrow new Error(`Path is required`);\n\t}\n\n\tconst apiUrl = baseAPIUrl + path;\n\tconsole.log(\"inside userequest\")\n\tconsole.log(\"defaultbranch url:\" + apiUrl);\n\tconst { data: repo } = useSWR(apiUrl, fetcher, {\n\t\trevalidateIfStale: false,\n\t\trevalidateOnFocus: false,\n\t\trevalidateOnReconnect: false,\n\t\tonErrorRetry: false,\n\t\tshouldRetryOnError: false\n\t})\n\n\t// const url = baseUrl + path + `/${defaultbranchname}/README.md`;\n\t/* const { data, error } = useSWR(url, fetcher, {\n\t\trevalidateIfStale: false,\n\t\trevalidateOnFocus: false,\n\t\trevalidateOnReconnect: false,\n\t\tonErrorRetry: false,\n\t\tshouldRetryOnError: false\n\t}) */\n\n\t//lsp-status.nvim project\n\tconst { data, error } = useSWR(() => baseUrl + path + `/${repo.default_branch}/README.md`, fetcher, {\n\t\trevalidateIfStale: false,\n\t\trevalidateOnFocus: false,\n\t\trevalidateOnReconnect: false,\n\t\tonErrorRetry: false,\n\t\tshouldRetryOnError: false\n\t})\n\treturn { data, error, repo }\n};\n","import MarkdownPreview from '@uiw/react-markdown-preview'\nimport React from 'react'\n\n//TODO\n/***\n\t\tfix ./ in transformimageURI returned result\n\t\tadd target=_blank (to open in new window) for non github links\n\t\t\t- and same to all links in slider preview links\nhttps://github.com/jguyon/nupum/blob/ba208f8ef4422a650ff3543fd36104afde7acf50/src/app/package-page/package-page-readme.js\n**/\n\n/* return (\n\t<div>\n\t\t<MarkdownPreview\n\t\t\tsource={data}\n\t\t\ttransformImageUri={uri =>\n\t\t\t\turi.startsWith(\"http\") ? uri : `https://raw.githubusercontent.com/${gitreponame}/${defaultBranchname}/${uri}`\n\t\t\t}\n\t\t/>\n\t</div>\n) */\n\nexport const ReadmePreview = React.memo(function ReadmePreivew({ data, gitreponame, defaultBranchname }) {\n\tconsole.log('rendering readmepreviewer');\n\n\treturn (\n\t\t<div>\n\t\t\t<MarkdownPreview\n\t\t\t\tsource={data}\n\t\t\t\ttransformImageUri={uri =>\n\t\t\t\t\turi.startsWith(\"http\") ? uri : `https://raw.githubusercontent.com/${gitreponame}/${defaultBranchname}/${uri}`\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n});\n","import { useRequest } from \"../userRequest\"\nimport { ReadmePreview } from \"./ReadmePreview\";\n\nexport const SliderGitReadme = ({ gitreponame }) => {\n\tconsole.log('rendering sliderGitreadme')\n\n\tconst { data, error, repo } = useRequest(gitreponame);\n\n\tif (error) return \"An error has occured\";\n\n\tif (!data) {\n\t\tconsole.log('fetching data')\n\t\treturn 'Loading..'\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<ReadmePreview data={data} gitreponame={gitreponame} defaultBranchname={repo.default_branch} />\n\t\t</div>\n\t)\n}\n","import React, { useState, useEffect } from 'react';\nimport { useRequest } from \"../userRequest\"\nimport SlidingPane from \"react-sliding-pane\";\nimport \"react-sliding-pane/dist/react-sliding-pane.css\";\nimport { ReadmePreview } from \"./ReadmePreview\"\nimport { SliderGitReadme } from \"./SliderGitReadme\";\n\nexport const GitReadme4 = React.memo(function GitReadme4({ reponame }) {\n\tconst gitreponame = reponame;\n\tconsole.log('rendering gitreadme4')\n\tconsole.log(`git repo name => ${gitreponame}`);\n\tconst [state2, setState2] = useState({\n\t\tisPaneOpen: false,\n\t\tisPaneOpenLeft: false,\n\t});\n\tconst [hlink, setHlink] = useState(\"nolink\");\n\tconst [htext, setHtext] = useState(\"nohtext\");\n\n\tconst handleClick2 = (e) => {\n\t\te.preventDefault();\n\t\tconsole.log(`href value : ${e.currentTarget.href}`)\n\t\tconsole.log(`value : ${e.currentTarget.text}`)\n\t\tsetHlink(e.currentTarget.href);\n\t\tsetHtext(e.currentTarget.text);\n\t\tsetState2({ isPaneOpen: true });\n\t\tdocument.body.style.overflow = \"hidden\"\n\t}\n\n\tconst { data, error, repo } = useRequest(gitreponame);\n\tuseEffect(() => {\n\t\tif (data) {\n\t\t\tconsole.log(\"inside use effect... \" + repo.default_branch)\n\t\t\tdocument\n\t\t\t\t.querySelectorAll('[href*=\"https\"]')\n\t\t\t\t.forEach((httplink) => {\n\t\t\t\t\tif (httplink.href.startsWith(\"https://github.com\")) {\n\t\t\t\t\t\tconsole.log('Adding click listerner to github links');\n\t\t\t\t\t\thttplink.addEventListener(\"click\", (e) => handleClick2(e))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"adding target=_blank for non github links\");\n\t\t\t\t\t\thttplink.setAttribute(\"target\", \"_blank\");\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\tconsole.log(\"inside second useeffect\")\n\t\t}\n\t}, [data, repo]);\n\n\tif (error) return \"An error has occured..\";\n\n\tif (!data) {\n\t\tconsole.log(\"first try\");\n\t\treturn \"Loading...\";\n\t}\n\n\t//TODO\n\t//transformUri contains ./\n\t// {isShow && <SlidePreviewer isOpenPane={true} hlink={hlink} htext={htext} />}\n\treturn (\n\t\t<div>\n\t\t\t<ReadmePreview data={data} gitreponame={gitreponame} defaultBranchname={repo.default_branch} />\n\t\t\t<SlidingPane\n\t\t\t\tclassName=\"slide-pane\"\n\t\t\t\toverlayClassName=\"slide-pane__overlay\"\n\t\t\t\tisOpen={state2.isPaneOpen}\n\t\t\t\ttitle={htext}\n\t\t\t\tsubtitle={hlink}\n\t\t\t\tonRequestClose={() => {\n\t\t\t\t\tsetState2({ isPaneOpen: false });\n\t\t\t\t\tdocument.body.style.overflow = \"visible\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div>And I am pane content. BTW, what rocks?</div>\n\t\t\t\t<br />\n\t\t\t\t<SliderGitReadme gitreponame={hlink.replace('https://github.com/', '')} />\n\t\t\t</SlidingPane>\n\t\t</div>\n\t);\n});\n","import './App.css';\nimport React, { useState } from \"react\";\nimport { GitReadme4 } from \"./components/GitReadme4.js\"\nimport SlidingPane from \"react-sliding-pane\";\nimport \"react-sliding-pane/dist/react-sliding-pane.css\";\n\n//https://www.debugbear.com/blog/react-rerenders\n\nexport default function App() {\n\n\tconsole.log(\"rendering app.js\")\n\tconst [reponame, setReponame] = useState(\"\");\n\tconst [isshow, setIsshow] = useState(false);\n\tconst [state, setState] = useState({\n\t\tisPaneOpen: false,\n\t\tisPaneOpenLeft: false\n\t})\n\n\tconst handleClick = (e) => {\n\t\tsetIsshow(true);\n\t\tsetReponame(e.currentTarget.textContent)\n\t}\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<button onClick={() => setState({ isPaneOpen: true })}>slidingpane demo</button>\n\t\t\t<br />\n\n\t\t\t<button onClick={(e) => handleClick(e)}>remarkjs/awesome-remark</button>\n\t\t\t<button onClick={(e) => handleClick(e)}>rockerBOO/awesome-neovim</button>\n\t\t\t<button onClick={(e) => handleClick(e)}>neovide/neovide</button>\n\n\t\t\t<p>Non-github links will be opened in new window</p>\n\t\t\t<br />\n\n\t\t\t{isshow && <GitReadme4 reponame={reponame} />}\n\n\n\t\t\t<SlidingPane\n\t\t\t\tclassName=\"slide-pane\"\n\t\t\t\toverlayClassName=\"slide-pane__overlay\"\n\t\t\t\tisOpen={state.isPaneOpen}\n\t\t\t\ttitle=\"Hey, it is optional pane title.  I can be component too.\"\n\t\t\t\tsubtitle=\"Optional subtitle.\"\n\t\t\t\tonRequestClose={() => {\n\t\t\t\t\tsetState({ isPaneOpen: false });\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div>And I am pane content. BTW, what rocks?</div>\n\t\t\t\t<br />\n\t\t\t\t<img src=\"https://raw.githubusercontent.com/neovide/neovide/main/assets/BasicScreenCap.png\" alt=\"Basic screen cap\" />\n\t\t\t</SlidingPane>\n\t\t</div>\n\t);\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n\t\t\t<App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}